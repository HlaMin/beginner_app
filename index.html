<!DOCTYPE html>
<html ng-app="plusApp">
<head>
  <meta http-equiv="Content-type" content="text/html; charset=utf-8">
  <title>Demo app</title>
  
  <link rel="stylesheet" href="css/foundation.min.css" />
  <link rel="stylesheet" href="css/app.css" />
</head>
<body>
  
  <div ng-controller="FrameController">    
    <nav class="top-bar">
      <ul class="title-area">
        <!-- Title Area -->
        <li class="name">
          <h1><a href="#">Mail</a></h1>
        </li>
        <!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu" to just have icon alone -->
        <li class="toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></li>
      </ul>

      <section class="top-bar-section">
        &nbsp;
      </section
    </nav>
    
    <div class="row">
      <div id="mailbox_container" class="large-4 columns" ng-controller="MailListController">
        <div ng-include src="'sidebar.html'"></div>
      </div>
      <div class="large-8 columns">
        <div id="stage" ng-view></div>
      </div>
    </div>
  </div>
  
  <script type="text/ng-template" id="home.html">
  <div ng-show="!email"><h1>No conversation selected</h1></div>
  <div ng-show="email">
    <table class="email large-12">
    <thead>
    <tr><td><b>From: </b><span>{{email.from.join(', ')}}</span></td></tr>
    <tr><td><b>To: </b><span>{{email.to.join(', ')}}</span></td></tr>
    <tr><td><b>Subject: </b><span>{{email.subject}}</span></td></tr>
    </thead>
    <tbody>
      <tr>
      <td>
        <div ng-bind-html-unsafe="email.body"></div>
      </td>
      </tr>
    </tbody>
    </table>
  </div>
  </script>
  
  <script type="text/ng-template" id="sidebar.html">
    <ul id="emailListing">
      <li ng-repeat="mail in email.all" ng-click="showEmail(mail.id)"> 
        <div class="emailListing row">
          <img class="large-3 columns" src="{{gravatarImageFor(mail.from[0])}}" />
          <div class="large-8 columns from">{{mail.from.join(', ')}}</div>
          <div class="large-8 subject columns">{{mail.subject}}</div>
          <div class="large-1 date">{{mail.sent_at|date:'MM/dd/yy'}}</div>
        </div>
      </li>
    </ul>
  </script>
  
  <script src="js/vendor/angular.min.js"></script>
  <script src="js/main.js"></script>
</body>
</html>